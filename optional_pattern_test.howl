// Test file for optional pattern matching

MyStruct :: struct {
    value: i32,
    name: str,
}

getValue :: fn (x: i32) ?MyStruct {
    return if (x < 0) None else MyStruct{ .value = x, .name = "test" }
}

testOptionalMatch :: fn (opt: ?MyStruct) str {
    match opt {
    | Some => |myStruct| {
        return "Found struct with value"
    }
    | None => {
        return "No value found"
    }
    }
}

main :: fn () void {
    result1 :: getValue(42)
    result2 :: getValue(-1)
    
    msg1 :: testOptionalMatch(result1)
    msg2 :: testOptionalMatch(result2)
}